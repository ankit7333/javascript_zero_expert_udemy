<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Coding Challange</title>
    <style>
      body {
        height: 100vh;
        align-items: center;
        background: linear-gradient(to top left, #28b487, #7dd56f);
      }
      h1 {
        font-family: sans-serif;
        font-size: 50px;
        line-height: 1.3;
        width: 100%;
        padding: 30px;
        text-align: center;
        color: white;
      }
    </style>
  </head>
  <body>
    <div>
      
      <p class="question">
        Julia and Kate are still studying dogs, and this time they are studying if dogs are 
        eating too much or too little.<br/>
        Eating too much means the dog's current food portion is larger than the 
        recommended portion, and eating too little is the opposite<br/>
        Eating an okay amount means the dog's current food portion is within a range 10% 
        above and 10% below the recommended portion (see hint).
      </p>
      <h4>Your Tasks :-</h4>
      <ul>
        <li>1. Loop over the 'dogs' array containing dog objects, and for each dog, calculate 
          the recommended food portion and add it to the object as a new property. Do 
          not create a new array, simply loop over the array. Forumla: 
          recommendedFood = weight ** 0.75 * 28. (The result is in grams of 
          food, and the weight needs to be in kg)
        </li>
        <li>2. Find Sarah's dog and log to the console whether it's eating too much or too 
          little. Hint: Some dogs have multiple owners, so you first need to find Sarah in 
          the owners array, and so this one is a bit tricky (on purpose) �</li>
        <li>Create an array containing all owners of dogs who eat too much 
          ('ownersEatTooMuch') and an array with all owners of dogs who eat too little 
          ('ownersEatTooLittle').</li>
        <li>4. Log a string to the console for each array created in 3., like this: "Matilda and 
          Alice and Bob's dogs eat too much!" and "Sarah and John and Michael's dogs eat 
          too little!"</li>
        <li>5 .Log to the console whether there is any dog eating exactly the amount of food 
          that is recommended (just true or false)</li>
        <li>6. Log to the console whether there is any dog eating an okay amount of food 
          (just true or false)</li>
        <li>7. Create an array containing the dogs that are eating an okay amount of food (try 
          to reuse the condition used in 6.)</li>
        <li>8. Create a shallow copy of the 'dogs' array and sort it by recommended food 
          portion in an ascending order (keep in mind that the portions are inside the 
          array's objects �)
          </li>
      </ul>
      <h4>Hint</h4>
      <ul>
        <li>§ Use many different tools to solve these challenges, you can use the summary 
          lecture to choose between them �</li>
        <li>Being within a range 10% above and below the recommended portion means: 
            current > (recommended * 0.90) && current < (recommended * 1.10). 
            Basically, the current portion should be between 90% and 110% of the recommended portion</li>
      </ul>
      <h4>Test data for Bonus:</h4>
      <p>
        const dogs = [<br/>
          { weight: 22, curFood: 250, owners: ['Alice', 'Bob'] },<br/>
          { weight: 8, curFood: 200, owners: ['Matilda'] },<br/>
          { weight: 13, curFood: 275, owners: ['Sarah', 'John'] },<br/>
          { weight: 32, curFood: 340, owners: ['Michael'] },<br/>
        ];
      </p>
      <hr/>
      <h2>Solution:</h2>
      <h3 class="point1"></h3>
      <h3 class="point2"></h3>
      <h3 class="point3"></h3>
    </div>
    <script>
      const dogs = [
        { weight: 22, curFood: 250, owners: ['Alice', 'Bob'] },
        { weight: 8, curFood: 200, owners: ['Matilda'] },
        { weight: 13, curFood: 275, owners: ['Sarah', 'John'] },
        { weight: 32, curFood: 340, owners: ['Michael'] },
      ];
      //point 1
      console.log('--- point 1 ---');
      dogs.forEach((dog) => dog.recFood = Math.trunc(dog.weight ** 0.75 * 28));
      console.log(dogs);
      
      //point 2
      console.log('--- point 2 ---');
      //const dogSarah = dogs.find(dog => dog.owners[0] === 'Sarah');
      const dogSarah = dogs.find(dog => dog.owners.includes('Sarah'));
      console.log(dogSarah);
      console.log(`Sarah's dog is eating too ${dogSarah.curFood > dogSarah.recFood ? 'much' : 'little'}`);

      //point 3
      console.log('--- point 3 ---');
      const ownersEatTooMuch = dogs.filter(dog => dog.curFood > dog.recFood).flatMap(dog => dog.owners);
      console.log(ownersEatTooMuch);

      const ownersEatTooLittle = dogs.filter(dog => dog.curFood < dog.recFood).flatMap(dog => dog.owners);
      console.log(ownersEatTooLittle);

      //point 4
      console.log('--- point 4 ---');
      console.log(`${ownersEatTooMuch.join(' and ')}'s eat too much!`);
      console.log(`${ownersEatTooLittle.join(' and ')}'s eat too little!`);

      //point 5
      console.log('--- point 5 ---');
      const exactFood = dogs.some(dog => dog.recFood === dog.curFood);
      console.log(exactFood);

      //point 6
      console.log('--- point 6 ---');
      console.log(dogs.some(dog => dog.curFood > dog.recFood * 0.9 && dog.curFood < dog.recFood * 1.1));

      //point 7
      console.log('--- point 7 ---');
      const checkEatingOk = dog => dog.curFood > dog.recFood * 0.9 && dog.curFood < dog.recFood * 1.1;
      console.log(dogs.filter(checkEatingOk));

      //point 8
      console.log('--- point 8 ---');
      // slice() return copy of original array
      const dogsSorted = dogs.slice().sort((a,b) => a.recFood - b.recFood);
      console.log(dogsSorted);
    </script>
  </body>
</html>
